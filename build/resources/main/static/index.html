<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>StaticsGame - Gerenciamento</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f7f9fb;
            color: #333;
            margin: 40px;
        }
        h1 {
            color: #0066cc;
            border-bottom: 2px solid #0066cc;
            padding-bottom: 5px;
        }
        section {
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 40px;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 10px;
        }
        table, th, td {
            border: 1px solid #ccc;
        }
        th, td {
            padding: 8px;
            text-align: left;
        }
        th {
            background: #f0f0f0;
        }
        input {
            padding: 6px;
            margin-right: 6px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            background: #0066cc;
            color: white;
            border: none;
            padding: 6px 10px;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background: #004999;
        }
    </style>
</head>
<body>

<h1>StaticsGame - Painel de Gerenciamento</h1>

<!-- ================= PRODUTOS ================= -->
<section>
    <h2>Produtos</h2>
    <div>
        <input type="text" id="produtoNome" placeholder="Nome">
        <input type="text" id="produtoDescricao" placeholder="Descrição">
        <input type="number" id="produtoPreco" placeholder="Preço">
        <button onclick="criarProduto()">Adicionar Produto</button>
    </div>
    <table id="tabelaProdutos">
        <thead>
        <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Descrição</th>
            <th>Preço</th>
            <th>Ações</th>
        </tr>
        </thead>
        <tbody></tbody>
    </table>
</section>

<!-- ================= FILMES ================= -->
<section>
    <h2>Filmes</h2>
    <div>
        <input type="text" id="filmeTitulo" placeholder="Título">
        <input type="text" id="filmeDiretor" placeholder="Diretor">
        <input type="number" id="filmeAno" placeholder="Ano">
        <input type="text" id="filmeGenero" placeholder="Gênero">
        <button onclick="criarFilme()">Adicionar Filme</button>
    </div>
    <table id="tabelaFilmes">
        <thead>
        <tr>
            <th>ID</th>
            <th>Título</th>
            <th>Diretor</th>
            <th>Ano</th>
            <th>Gênero</th>
            <th>Ações</th>
        </tr>
        </thead>
        <tbody></tbody>
    </table>
</section>

<!-- ================= CARROS ================= -->
<section>
    <h2>Carros</h2>
    <div>
        <input type="text" id="carroModelo" placeholder="Modelo">
        <input type="text" id="carroMarca" placeholder="Marca">
        <input type="number" id="carroAno" placeholder="Ano">
        <button onclick="criarCarro()">Adicionar Carro</button>
    </div>
    <table id="tabelaCarros">
        <thead>
        <tr>
            <th>ID</th>
            <th>Modelo</th>
            <th>Marca</th>
            <th>Ano</th>
            <th>Ações</th>
        </tr>
        </thead>
        <tbody></tbody>
    </table>
</section>

<!-- ================= MOTOS ================= -->
<section>
    <h2>Motos</h2>
    <div>
        <input type="text" id="motoModelo" placeholder="Modelo">
        <input type="text" id="motoMarca" placeholder="Marca">
        <input type="number" id="motoAno" placeholder="Ano">
        <button onclick="criarMoto()">Adicionar Moto</button>
    </div>
    <table id="tabelaMotos">
        <thead>
        <tr>
            <th>ID</th>
            <th>Modelo</th>
            <th>Marca</th>
            <th>Ano</th>
            <th>Ações</th>
        </tr>
        </thead>
        <tbody></tbody>
    </table>
</section>

<script>
const API = '/api';

// ================= PRODUTOS =================
let editandoProdutoId = null;
async function carregarProdutos() {
    const res = await fetch(`${API}/produtos`);
    const produtos = await res.json();
    const tbody = document.querySelector('#tabelaProdutos tbody');
    tbody.innerHTML = '';
    produtos.forEach(p => {
        tbody.innerHTML += `
        <tr>
            <td>${p.id}</td>
            <td>${p.nome}</td>
            <td>${p.descricao}</td>
            <td>R$ ${p.preco.toFixed(2)}</td>
            <td>
                <button onclick="editarProduto(${p.id}, '${p.nome}', '${p.descricao}', ${p.preco})">Editar</button>
                <button onclick="deletarProduto(${p.id})">Excluir</button>
            </td>
        </tr>`;
    });
}
function editarProduto(id, nome, descricao, preco) {
    document.getElementById('produtoNome').value = nome;
    document.getElementById('produtoDescricao').value = descricao;
    document.getElementById('produtoPreco').value = preco;
    editandoProdutoId = id;
    document.querySelector('#tabelaProdutos + div button').textContent = 'Salvar Produto';
}
async function criarProduto() {
    const nome = document.getElementById('produtoNome').value;
    const descricao = document.getElementById('produtoDescricao').value;
    const preco = parseFloat(document.getElementById('produtoPreco').value);
    if (!nome || !descricao || isNaN(preco)) { alert('Preencha todos os campos!'); return; }
    if (editandoProdutoId) {
        await fetch(`${API}/produtos/${editandoProdutoId}`, {
            method: 'PUT',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ nome, descricao, preco })
        });
        editandoProdutoId = null;
        document.querySelector('#tabelaProdutos + div button').textContent = 'Adicionar Produto';
    } else {
        await fetch(`${API}/produtos`, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ nome, descricao, preco })
        });
    }
    carregarProdutos();
}
async function deletarProduto(id) { await fetch(`${API}/produtos/${id}`, { method: 'DELETE' }); carregarProdutos(); }

// ================= FILMES =================
let editandoFilmeId = null;
async function carregarFilmes() {
    const res = await fetch(`${API}/filmes`);
    const filmes = await res.json();
    const tbody = document.querySelector('#tabelaFilmes tbody');
    tbody.innerHTML = '';
    filmes.forEach(f => {
        tbody.innerHTML += `
        <tr>
            <td>${f.id}</td>
            <td>${f.titulo}</td>
            <td>${f.diretor}</td>
            <td>${f.anoLancamento}</td>
            <td>${f.genero}</td>
            <td>
                <button onclick="editarFilme(${f.id}, '${f.titulo}', '${f.diretor}', ${f.anoLancamento}, '${f.genero}')">Editar</button>
                <button onclick="deletarFilme(${f.id})">Excluir</button>
            </td>
        </tr>`;
    });
}
function editarFilme(id, titulo, diretor, ano, genero) {
    document.getElementById('filmeTitulo').value = titulo;
    document.getElementById('filmeDiretor').value = diretor;
    document.getElementById('filmeAno').value = ano;
    document.getElementById('filmeGenero').value = genero;
    editandoFilmeId = id;
    document.querySelector('#tabelaFilmes + div button').textContent = 'Salvar Filme';
}
async function criarFilme() {
    const titulo = document.getElementById('filmeTitulo').value;
    const diretor = document.getElementById('filmeDiretor').value;
    const anoLancamento = parseInt(document.getElementById('filmeAno').value);
    const genero = document.getElementById('filmeGenero').value;
    if (!titulo || !diretor || !anoLancamento || !genero) { alert('Preencha todos os campos!'); return; }
    if (editandoFilmeId) {
        await fetch(`${API}/filmes/${editandoFilmeId}`, {
            method: 'PUT',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ titulo, diretor, anoLancamento, genero })
        });
        editandoFilmeId = null;
        document.querySelector('#tabelaFilmes + div button').textContent = 'Adicionar Filme';
    } else {
        await fetch(`${API}/filmes`, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ titulo, diretor, anoLancamento, genero })
        });
    }
    carregarFilmes();
}
async function deletarFilme(id) { await fetch(`${API}/filmes/${id}`, { method: 'DELETE' }); carregarFilmes(); }

// ================= CARROS =================
let editandoCarroId = null;
async function carregarCarros() {
    const res = await fetch(`${API}/carros`);
    const carros = await res.json();
    const tbody = document.querySelector('#tabelaCarros tbody');
    tbody.innerHTML = '';
    carros.forEach(c => {
        tbody.innerHTML += `
        <tr>
            <td>${c.id}</td>
            <td>${c.modelo}</td>
            <td>${c.marca}</td>
            <td>${c.ano}</td>
            <td>
                <button onclick="editarCarro(${c.id}, '${c.modelo}', '${c.marca}', ${c.ano})">Editar</button>
                <button onclick="deletarCarro(${c.id})">Excluir</button>
            </td>
        </tr>`;
    });
}
function editarCarro(id, modelo, marca, ano) {
    document.getElementById('carroModelo').value = modelo;
    document.getElementById('carroMarca').value = marca;
    document.getElementById('carroAno').value = ano;
    editandoCarroId = id;
    document.querySelector('#tabelaCarros + div button').textContent = 'Salvar Carro';
}
async function criarCarro() {
    const modelo = document.getElementById('carroModelo').value;
    const marca = document.getElementById('carroMarca').value;
    const ano = parseInt(document.getElementById('carroAno').value);
    if (!modelo || !marca || !ano) { alert('Preencha todos os campos!'); return; }
    if (editandoCarroId) {
        await fetch(`${API}/carros/${editandoCarroId}`, {
            method: 'PUT',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ modelo, marca, ano })
        });
        editandoCarroId = null;
        document.querySelector('#tabelaCarros + div button').textContent = 'Adicionar Carro';
    } else {
        await fetch(`${API}/carros`, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ modelo, marca, ano })
        });
    }
    carregarCarros();
}
async function deletarCarro(id) { await fetch(`${API}/carros/${id}`, { method: 'DELETE' }); carregarCarros(); }

// ================= MOTOS =================
let editandoMotoId = null;
async function carregarMotos() {
    const res = await fetch(`${API}/motos`);
    const motos = await res.json();
    const tbody = document.querySelector('#tabelaMotos tbody');
    tbody.innerHTML = '';
    motos.forEach(m => {
        tbody.innerHTML += `
        <tr>
            <td>${m.id}</td>
            <td>${m.modelo}</td>
            <td>${m.marca}</td>
            <td>${m.ano}</td>
            <td>
                <button onclick="editarMoto(${m.id}, '${m.modelo}', '${m.marca}', ${m.ano})">Editar</button>
                <button onclick="deletarMoto(${m.id})">Excluir</button>
            </td>
        </tr>`;
    });
}
function editarMoto(id, modelo, marca, ano) {
    document.getElementById('motoModelo').value = modelo;
    document.getElementById('motoMarca').value = marca;
    document.getElementById('motoAno').value = ano;
    editandoMotoId = id;
    document.querySelector('#tabelaMotos + div button').textContent = 'Salvar Moto';
}
async function criarMoto() {
    const modelo = document.getElementById('motoModelo').value;
    const marca = document.getElementById('motoMarca').value;
    const ano = parseInt(document.getElementById('motoAno').value);
    if (!modelo || !marca || !ano) { alert('Preencha todos os campos!'); return; }
    if (editandoMotoId) {
        await fetch(`${API}/motos/${editandoMotoId}`, {
            method: 'PUT',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ modelo, marca, ano })
        });
        editandoMotoId = null;
        document.querySelector('#tabelaMotos + div button').textContent = 'Adicionar Moto';
    } else {
        await fetch(`${API}/motos`, {
            method: 'POST',
            headers: {'Content-Type': 'application/json'},
            body: JSON.stringify({ modelo, marca, ano })
        });
    }
    carregarMotos();
}
async function deletarMoto(id) { await fetch(`${API}/motos/${id}`, { method: 'DELETE' }); carregarMotos(); }

// ================= INICIALIZAÇÃO =================
carregarProdutos();
carregarFilmes();
carregarCarros();
carregarMotos();
</script>

</body>
</html>
